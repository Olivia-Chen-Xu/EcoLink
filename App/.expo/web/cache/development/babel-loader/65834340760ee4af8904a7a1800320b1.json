{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { TouchableOpacityBase } from \"react-native-web/dist/index\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { Ionicons, MaterialIcons } from \"@expo/vector-icons\";\nimport UserFeed from \"./UserFeed\";\nimport LeaderBoard from \"./LeaderBoard\";\nimport Scan from \"./Scan\";\nimport AllLocations from \"./AllLocations\";\nimport Profile from \"./Profile\";\nimport * as Location from \"expo-location\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Tab = createBottomTabNavigator();\nexport default function MainApp() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentLoc = _useState2[0],\n      setCurrentLoc = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      locations = _useState6[0],\n      setLocations = _useState6[1];\n\n  var _useState7 = useState([{\n    user: \"Olivia\",\n    userInfo: \"CS Student at Queen's\",\n    pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/olivia.jpg\",\n    image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/logo.jpg\",\n    description: \"So excited to join the EcoLink community!\",\n    createdAt: new Date(2022, 4, 27, 17, 24)\n  }]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      ownPosts = _useState8[0],\n      setOwnPosts = _useState8[1];\n\n  var _useState9 = useState([{\n    user: \"Aaliyah\",\n    userInfo: \"Engineering Student at Queen's\",\n    pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/aaliyah.jpeg\",\n    image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/waste.jpeg\",\n    description: \"Join me this Saturday for an interactive workshop on how to make the best use of your food waste!\",\n    createdAt: new Date(2022, 2, 27, 17, 24)\n  }, {\n    user: \"Joshua\",\n    userInfo: \"Engineering Student at Queen's\",\n    pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/josh.jpeg\",\n    image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/beach.png\",\n    description: \"Going to the Breakwater Park this weekend to do a beach cleaning, hmu if you would like to join!\",\n    createdAt: new Date(2022, 2, 25, 17, 24)\n  }, {\n    user: \"Alessia\",\n    userInfo: \"Engineering Student at Queen's\",\n    pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/alessia.jpeg\",\n    image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/recycle1.png\",\n    description: \"Went on a garbage collecting trip!\",\n    createdAt: new Date(2022, 3, 27, 17, 24)\n  }, {\n    user: \"Olivia\",\n    userInfo: \"CS Student at Queen's\",\n    pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/olivia.jpg\",\n    image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/logo.jpg\",\n    description: \"So excited to join the EcoLink community!\",\n    createdAt: new Date(2022, 4, 27, 17, 24)\n  }]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      posts = _useState10[0],\n      setPosts = _useState10[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"hey\");\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 3:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== \"granted\")) {\n                _context.next = 8;\n                break;\n              }\n\n              setErrorMsg(\"Permission to access location was denied\");\n              return _context.abrupt(\"return\");\n\n            case 8:\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}).then(function (res) {\n                console.log(res);\n                setCurrentLoc(res);\n                setLocations([{\n                  name: \"Lenny Hall\",\n                  latitude: res.coords.latitude + 0.0012,\n                  longitude: res.coords.longitude - 0.003,\n                  image: null,\n                  tags: [\"Plastic\", \"Can\"],\n                  numOfDropOffs: 234,\n                  tonsRecycled: 12\n                }, {\n                  name: \"Ellis Hall\",\n                  latitude: res.coords.latitude,\n                  longitude: res.coords.longitude + 0.002,\n                  image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/bins1.jpg\",\n                  tags: [\"Paper\", \"Plastic\", \"Can\", \"Glass\", \"Landfill\"],\n                  numOfDropOffs: 52,\n                  tonsRecycled: 5\n                }, {\n                  name: \"Location 21\",\n                  latitude: res.coords.latitude - 0.0016,\n                  longitude: res.coords.longitude - 0.002,\n                  image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/bins2.jpg\",\n                  tags: [\"Organics\", \"Can\"],\n                  numOfDropOffs: 6,\n                  tonsRecycled: 1\n                }, {\n                  name: \"Queen's Center\",\n                  latitude: res.coords.latitude + 0.002,\n                  longitude: res.coords.longitude + 0.001,\n                  image: null,\n                  tags: [\"Paper\", \"Organics\", \"Can\"],\n                  numOfDropOffs: 6,\n                  tonsRecycled: 1\n                }]);\n              }));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  useEffect(function () {}, [locations]);\n  var text = \"Waiting..\";\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (currentLoc) {\n    text = JSON.stringify(currentLoc);\n  }\n\n  return _jsxs(_Fragment, {\n    children: [_jsx(StatusBar, {\n      barStyle: \"dark-content\"\n    }), _jsxs(Tab.Navigator, {\n      screenOptions: {\n        headerShown: false,\n        tabBarShowLabel: false,\n        tabBarActiveTintColor: \"#4B9460\"\n      },\n      children: [_jsx(Tab.Screen, {\n        name: \"UserFeed\",\n        options: {\n          tabBarIcon: function tabBarIcon(_ref) {\n            var color = _ref.color;\n            return _jsx(Ionicons, {\n              name: \"home\",\n              color: color,\n              size: 26\n            });\n          }\n        },\n        children: function children(props) {\n          return _jsx(UserFeed, _objectSpread(_objectSpread({}, props), {}, {\n            posts: posts,\n            setPosts: setPosts,\n            ownPosts: ownPosts,\n            setOwnPosts: setOwnPosts\n          }));\n        }\n      }), _jsx(Tab.Screen, {\n        name: \"AllLocations\",\n        options: {\n          tabBarIcon: function tabBarIcon(_ref2) {\n            var color = _ref2.color;\n            return _jsx(MaterialIcons, {\n              name: \"add-location-alt\",\n              color: color,\n              size: 28\n            });\n          }\n        },\n        children: function children(props) {\n          return _jsx(AllLocations, _objectSpread(_objectSpread({}, props), {}, {\n            currentLoc: currentLoc,\n            locations: locations,\n            setLocations: setLocations,\n            posts: posts,\n            setPosts: setPosts,\n            ownPosts: ownPosts,\n            setOwnPosts: setOwnPosts\n          }));\n        }\n      }), _jsx(Tab.Screen, {\n        name: \"Scan\",\n        options: {\n          tabBarIcon: function tabBarIcon(_ref3) {\n            var color = _ref3.color;\n            return _jsx(View, {\n              style: {\n                position: \"absolute\",\n                bottom: 0,\n                height: 68,\n                width: 68,\n                borderRadius: 68,\n                backgroundColor: color === \"#4B9460\" ? \"#4B9460\" : \"#5DB075\",\n                justifyContent: \"center\",\n                alignItems: \"center\"\n              },\n              children: _jsx(Ionicons, {\n                name: \"camera\",\n                color: \"white\",\n                size: 28\n              })\n            });\n          }\n        },\n        children: function children(props) {\n          return _jsx(Scan, _objectSpread(_objectSpread({}, props), {}, {\n            currentLoc: currentLoc,\n            locations: locations,\n            posts: posts,\n            setPosts: setPosts,\n            ownPosts: ownPosts,\n            setOwnPosts: setOwnPosts\n          }));\n        }\n      }), _jsx(Tab.Screen, {\n        name: \"LeaderBoard\",\n        component: LeaderBoard,\n        options: {\n          tabBarIcon: function tabBarIcon(_ref4) {\n            var color = _ref4.color;\n            return _jsx(MaterialIcons, {\n              name: \"leaderboard\",\n              color: color,\n              size: 26\n            });\n          }\n        }\n      }), _jsx(Tab.Screen, {\n        name: \"Profile\",\n        options: {\n          tabBarIcon: function tabBarIcon(_ref5) {\n            var color = _ref5.color;\n            return _jsx(Ionicons, {\n              name: \"person-circle-outline\",\n              color: color,\n              size: 28\n            });\n          }\n        },\n        children: function children(props) {\n          return _jsx(Profile, _objectSpread(_objectSpread({}, props), {}, {\n            ownPosts: ownPosts\n          }));\n        }\n      })]\n    })]\n  });\n}","map":{"version":3,"sources":["/Users/oliviachenxu/Documents/QueensGDSC/App/pages/MainApp.js"],"names":["React","useState","useEffect","TouchableOpacityBase","createBottomTabNavigator","NavigationContainer","Ionicons","MaterialIcons","UserFeed","LeaderBoard","Scan","AllLocations","Profile","Location","Tab","MainApp","currentLoc","setCurrentLoc","errorMsg","setErrorMsg","locations","setLocations","user","userInfo","pfp","image","description","createdAt","Date","ownPosts","setOwnPosts","posts","setPosts","console","log","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","then","res","name","latitude","coords","longitude","tags","numOfDropOffs","tonsRecycled","text","JSON","stringify","headerShown","tabBarShowLabel","tabBarActiveTintColor","tabBarIcon","color","props","position","bottom","height","width","borderRadius","backgroundColor","justifyContent","alignItems"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;SACoBC,oB;;AACpB,SAASC,wBAAT,QAAyC,+BAAzC;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,QAAT,EAAmBC,aAAnB;AACA,OAAOC,QAAP;AACA,OAAOC,WAAP;AACA,OAAOC,IAAP;AACA,OAAOC,YAAP;AACA,OAAOC,OAAP;AACA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;;;;AAEA,IAAMC,GAAG,GAAGV,wBAAwB,EAApC;AAEA,eAAe,SAASW,OAAT,GAAmB;AAC9B,kBAAoCd,QAAQ,CAAC,IAAD,CAA5C;AAAA;AAAA,MAAOe,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAAgChB,QAAQ,CAAC,IAAD,CAAxC;AAAA;AAAA,MAAOiB,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAkClB,QAAQ,CAAC,IAAD,CAA1C;AAAA;AAAA,MAAOmB,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAgCpB,QAAQ,CAAC,CACrC;AACIqB,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,QAAQ,EAAE,uBAFd;AAGIC,IAAAA,GAAG,EAAE,gEAHT;AAIIC,IAAAA,KAAK,EAAE,8DAJX;AAKIC,IAAAA,WAAW,EAAE,2CALjB;AAMIC,IAAAA,SAAS,EAAE,IAAIC,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B;AANf,GADqC,CAAD,CAAxC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB;;AAUA,mBAA0B7B,QAAQ,CAAC,CAC/B;AACIqB,IAAAA,IAAI,EAAE,SADV;AAEIC,IAAAA,QAAQ,EAAE,gCAFd;AAGIC,IAAAA,GAAG,EAAE,kEAHT;AAIIC,IAAAA,KAAK,EAAE,gEAJX;AAKIC,IAAAA,WAAW,EACP,mGANR;AAOIC,IAAAA,SAAS,EAAE,IAAIC,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B;AAPf,GAD+B,EAU/B;AACIN,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,QAAQ,EAAE,gCAFd;AAGIC,IAAAA,GAAG,EAAE,+DAHT;AAIIC,IAAAA,KAAK,EAAE,+DAJX;AAKIC,IAAAA,WAAW,EACP,kGANR;AAOIC,IAAAA,SAAS,EAAE,IAAIC,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B;AAPf,GAV+B,EAoB/B;AACIN,IAAAA,IAAI,EAAE,SADV;AAEIC,IAAAA,QAAQ,EAAE,gCAFd;AAGIC,IAAAA,GAAG,EAAE,kEAHT;AAIIC,IAAAA,KAAK,EAAE,kEAJX;AAKIC,IAAAA,WAAW,EAAE,oCALjB;AAMIC,IAAAA,SAAS,EAAE,IAAIC,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B;AANf,GApB+B,EA4B/B;AACIN,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,QAAQ,EAAE,uBAFd;AAGIC,IAAAA,GAAG,EAAE,gEAHT;AAIIC,IAAAA,KAAK,EAAE,8DAJX;AAKIC,IAAAA,WAAW,EAAE,2CALjB;AAMIC,IAAAA,SAAS,EAAE,IAAIC,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B;AANf,GA5B+B,CAAD,CAAlC;AAAA;AAAA,MAAOG,KAAP;AAAA,MAAcC,QAAd;;AAsCA9B,EAAAA,SAAS,CAAC,YAAM;AACZ,KAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACG+B,cAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AADH;AAAA,+CAE0BrB,QAAQ,CAACsB,iCAAT,EAF1B;;AAAA;AAAA;AAESC,cAAAA,MAFT,yBAESA,MAFT;;AAAA,oBAGOA,MAAM,KAAK,SAHlB;AAAA;AAAA;AAAA;;AAIOjB,cAAAA,WAAW,CAAC,0CAAD,CAAX;AAJP;;AAAA;AAAA;AAAA,+CAQSN,QAAQ,CAACwB,uBAAT,CAAiC,EAAjC,EAAqCC,IAArC,CAA0C,UAACC,GAAD,EAAS;AACrDN,gBAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACAtB,gBAAAA,aAAa,CAACsB,GAAD,CAAb;AACAlB,gBAAAA,YAAY,CAAC,CACT;AACImB,kBAAAA,IAAI,EAAE,YADV;AAEIC,kBAAAA,QAAQ,EAAEF,GAAG,CAACG,MAAJ,CAAWD,QAAX,GAAsB,MAFpC;AAGIE,kBAAAA,SAAS,EAAEJ,GAAG,CAACG,MAAJ,CAAWC,SAAX,GAAuB,KAHtC;AAIIlB,kBAAAA,KAAK,EAAE,IAJX;AAKImB,kBAAAA,IAAI,EAAE,CAAC,SAAD,EAAY,KAAZ,CALV;AAMIC,kBAAAA,aAAa,EAAE,GANnB;AAOIC,kBAAAA,YAAY,EAAE;AAPlB,iBADS,EAUT;AACIN,kBAAAA,IAAI,EAAE,YADV;AAEIC,kBAAAA,QAAQ,EAAEF,GAAG,CAACG,MAAJ,CAAWD,QAFzB;AAGIE,kBAAAA,SAAS,EAAEJ,GAAG,CAACG,MAAJ,CAAWC,SAAX,GAAuB,KAHtC;AAIIlB,kBAAAA,KAAK,EAAE,+DAJX;AAKImB,kBAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,SAAV,EAAqB,KAArB,EAA4B,OAA5B,EAAqC,UAArC,CALV;AAMIC,kBAAAA,aAAa,EAAE,EANnB;AAOIC,kBAAAA,YAAY,EAAE;AAPlB,iBAVS,EAmBT;AACIN,kBAAAA,IAAI,EAAE,aADV;AAEIC,kBAAAA,QAAQ,EAAEF,GAAG,CAACG,MAAJ,CAAWD,QAAX,GAAsB,MAFpC;AAGIE,kBAAAA,SAAS,EAAEJ,GAAG,CAACG,MAAJ,CAAWC,SAAX,GAAuB,KAHtC;AAIIlB,kBAAAA,KAAK,EAAE,+DAJX;AAKImB,kBAAAA,IAAI,EAAE,CAAC,UAAD,EAAa,KAAb,CALV;AAMIC,kBAAAA,aAAa,EAAE,CANnB;AAOIC,kBAAAA,YAAY,EAAE;AAPlB,iBAnBS,EA4BT;AACIN,kBAAAA,IAAI,EAAE,gBADV;AAEIC,kBAAAA,QAAQ,EAAEF,GAAG,CAACG,MAAJ,CAAWD,QAAX,GAAsB,KAFpC;AAGIE,kBAAAA,SAAS,EAAEJ,GAAG,CAACG,MAAJ,CAAWC,SAAX,GAAuB,KAHtC;AAIIlB,kBAAAA,KAAK,EAAE,IAJX;AAKImB,kBAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,UAAV,EAAsB,KAAtB,CALV;AAMIC,kBAAAA,aAAa,EAAE,CANnB;AAOIC,kBAAAA,YAAY,EAAE;AAPlB,iBA5BS,CAAD,CAAZ;AAsCH,eAzCK,CART;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAmDH,GApDQ,EAoDN,EApDM,CAAT;AAsDA5C,EAAAA,SAAS,CAAC,YAAM,CAAE,CAAT,EAAW,CAACkB,SAAD,CAAX,CAAT;AAEA,MAAI2B,IAAI,GAAG,WAAX;;AACA,MAAI7B,QAAJ,EAAc;AACV6B,IAAAA,IAAI,GAAG7B,QAAP;AACH,GAFD,MAEO,IAAIF,UAAJ,EAAgB;AACnB+B,IAAAA,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAejC,UAAf,CAAP;AACH;;AACD,SACI;AAAA,eACI,KAAC,SAAD;AAAW,MAAA,QAAQ,EAAC;AAApB,MADJ,EAEI,MAAC,GAAD,CAAK,SAAL;AACI,MAAA,aAAa,EAAE;AACXkC,QAAAA,WAAW,EAAE,KADF;AAEXC,QAAAA,eAAe,EAAE,KAFN;AAGXC,QAAAA,qBAAqB,EAAE;AAHZ,OADnB;AAAA,iBAOI,KAAC,GAAD,CAAK,MAAL;AACI,QAAA,IAAI,EAAC,UADT;AAEI,QAAA,OAAO,EAAE;AACLC,UAAAA,UAAU,EAAE;AAAA,gBAAGC,KAAH,QAAGA,KAAH;AAAA,mBACR,KAAC,QAAD;AAAU,cAAA,IAAI,EAAC,MAAf;AAAsB,cAAA,KAAK,EAAEA,KAA7B;AAAoC,cAAA,IAAI,EAAE;AAA1C,cADQ;AAAA;AADP,SAFb;AAAA,kBAQK,kBAACC,KAAD;AAAA,iBACG,KAAC,QAAD,kCACQA,KADR;AAEI,YAAA,KAAK,EAAExB,KAFX;AAGI,YAAA,QAAQ,EAAEC,QAHd;AAII,YAAA,QAAQ,EAAEH,QAJd;AAKI,YAAA,WAAW,EAAEC;AALjB,aADH;AAAA;AARL,QAPJ,EAyBI,KAAC,GAAD,CAAK,MAAL;AACI,QAAA,IAAI,EAAC,cADT;AAEI,QAAA,OAAO,EAAE;AACLuB,UAAAA,UAAU,EAAE;AAAA,gBAAGC,KAAH,SAAGA,KAAH;AAAA,mBACR,KAAC,aAAD;AACI,cAAA,IAAI,EAAC,kBADT;AAEI,cAAA,KAAK,EAAEA,KAFX;AAGI,cAAA,IAAI,EAAE;AAHV,cADQ;AAAA;AADP,SAFb;AAAA,kBAYK,kBAACC,KAAD;AAAA,iBACG,KAAC,YAAD,kCACQA,KADR;AAEI,YAAA,UAAU,EAAEvC,UAFhB;AAGI,YAAA,SAAS,EAAEI,SAHf;AAII,YAAA,YAAY,EAAEC,YAJlB;AAKI,YAAA,KAAK,EAAEU,KALX;AAMI,YAAA,QAAQ,EAAEC,QANd;AAOI,YAAA,QAAQ,EAAEH,QAPd;AAQI,YAAA,WAAW,EAAEC;AARjB,aADH;AAAA;AAZL,QAzBJ,EAkDI,KAAC,GAAD,CAAK,MAAL;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,OAAO,EAAE;AACLuB,UAAAA,UAAU,EAAE;AAAA,gBAAGC,KAAH,SAAGA,KAAH;AAAA,mBACR,KAAC,IAAD;AACI,cAAA,KAAK,EAAE;AACHE,gBAAAA,QAAQ,EAAE,UADP;AAEHC,gBAAAA,MAAM,EAAE,CAFL;AAGHC,gBAAAA,MAAM,EAAE,EAHL;AAIHC,gBAAAA,KAAK,EAAE,EAJJ;AAKHC,gBAAAA,YAAY,EAAE,EALX;AAMHC,gBAAAA,eAAe,EACXP,KAAK,KAAK,SAAV,GACM,SADN,GAEM,SATP;AAUHQ,gBAAAA,cAAc,EAAE,QAVb;AAWHC,gBAAAA,UAAU,EAAE;AAXT,eADX;AAAA,wBAeI,KAAC,QAAD;AACI,gBAAA,IAAI,EAAC,QADT;AAEI,gBAAA,KAAK,EAAC,OAFV;AAGI,gBAAA,IAAI,EAAE;AAHV;AAfJ,cADQ;AAAA;AADP,SAFb;AAAA,kBA4BK,kBAACR,KAAD;AAAA,iBACG,KAAC,IAAD,kCACQA,KADR;AAEI,YAAA,UAAU,EAAEvC,UAFhB;AAGI,YAAA,SAAS,EAAEI,SAHf;AAII,YAAA,KAAK,EAAEW,KAJX;AAKI,YAAA,QAAQ,EAAEC,QALd;AAMI,YAAA,QAAQ,EAAEH,QANd;AAOI,YAAA,WAAW,EAAEC;AAPjB,aADH;AAAA;AA5BL,QAlDJ,EA0FI,KAAC,GAAD,CAAK,MAAL;AACI,QAAA,IAAI,EAAC,aADT;AAEI,QAAA,SAAS,EAAErB,WAFf;AAGI,QAAA,OAAO,EAAE;AACL4C,UAAAA,UAAU,EAAE;AAAA,gBAAGC,KAAH,SAAGA,KAAH;AAAA,mBACR,KAAC,aAAD;AACI,cAAA,IAAI,EAAC,aADT;AAEI,cAAA,KAAK,EAAEA,KAFX;AAGI,cAAA,IAAI,EAAE;AAHV,cADQ;AAAA;AADP;AAHb,QA1FJ,EAuGI,KAAC,GAAD,CAAK,MAAL;AACI,QAAA,IAAI,EAAC,SADT;AAEI,QAAA,OAAO,EAAE;AACLD,UAAAA,UAAU,EAAE;AAAA,gBAAGC,KAAH,SAAGA,KAAH;AAAA,mBACR,KAAC,QAAD;AACI,cAAA,IAAI,EAAC,uBADT;AAEI,cAAA,KAAK,EAAEA,KAFX;AAGI,cAAA,IAAI,EAAE;AAHV,cADQ;AAAA;AADP,SAFb;AAAA,kBAYK,kBAACC,KAAD;AAAA,iBACG,KAAC,OAAD,kCAAaA,KAAb;AAAoB,YAAA,QAAQ,EAAE1B;AAA9B,aADH;AAAA;AAZL,QAvGJ;AAAA,MAFJ;AAAA,IADJ;AA6HH","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { StatusBar, TouchableOpacityBase, View } from \"react-native\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { Ionicons, MaterialIcons } from \"react-native-vector-icons\";\nimport UserFeed from \"./UserFeed\";\nimport LeaderBoard from \"./LeaderBoard\";\nimport Scan from \"./Scan\";\nimport AllLocations from \"./AllLocations\";\nimport Profile from \"./Profile\";\nimport * as Location from \"expo-location\";\n\nconst Tab = createBottomTabNavigator();\n\nexport default function MainApp() {\n    const [currentLoc, setCurrentLoc] = useState(null);\n    const [errorMsg, setErrorMsg] = useState(null);\n    const [locations, setLocations] = useState(null);\n    const [ownPosts, setOwnPosts] = useState([\n        {\n            user: \"Olivia\",\n            userInfo: \"CS Student at Queen's\",\n            pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/olivia.jpg\",\n            image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/logo.jpg\",\n            description: \"So excited to join the EcoLink community!\",\n            createdAt: new Date(2022, 4, 27, 17, 24),\n        },\n    ]);\n    const [posts, setPosts] = useState([\n        {\n            user: \"Aaliyah\",\n            userInfo: \"Engineering Student at Queen's\",\n            pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/aaliyah.jpeg\",\n            image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/waste.jpeg\",\n            description:\n                \"Join me this Saturday for an interactive workshop on how to make the best use of your food waste!\",\n            createdAt: new Date(2022, 2, 27, 17, 24),\n        },\n        {\n            user: \"Joshua\",\n            userInfo: \"Engineering Student at Queen's\",\n            pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/josh.jpeg\",\n            image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/beach.png\",\n            description:\n                \"Going to the Breakwater Park this weekend to do a beach cleaning, hmu if you would like to join!\",\n            createdAt: new Date(2022, 2, 25, 17, 24),\n        },\n\n        {\n            user: \"Alessia\",\n            userInfo: \"Engineering Student at Queen's\",\n            pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/alessia.jpeg\",\n            image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/recycle1.png\",\n            description: \"Went on a garbage collecting trip!\",\n            createdAt: new Date(2022, 3, 27, 17, 24),\n        },\n        {\n            user: \"Olivia\",\n            userInfo: \"CS Student at Queen's\",\n            pfp: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/olivia.jpg\",\n            image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/logo.jpg\",\n            description: \"So excited to join the EcoLink community!\",\n            createdAt: new Date(2022, 4, 27, 17, 24),\n        },\n    ]);\n\n    useEffect(() => {\n        (async () => {\n            console.log(\"hey\");\n            let { status } = await Location.requestForegroundPermissionsAsync();\n            if (status !== \"granted\") {\n                setErrorMsg(\"Permission to access location was denied\");\n                return;\n            }\n\n            await Location.getCurrentPositionAsync({}).then((res) => {\n                console.log(res);\n                setCurrentLoc(res);\n                setLocations([\n                    {\n                        name: \"Lenny Hall\",\n                        latitude: res.coords.latitude + 0.0012,\n                        longitude: res.coords.longitude - 0.003,\n                        image: null,\n                        tags: [\"Plastic\", \"Can\"],\n                        numOfDropOffs: 234,\n                        tonsRecycled: 12,\n                    },\n                    {\n                        name: \"Ellis Hall\",\n                        latitude: res.coords.latitude,\n                        longitude: res.coords.longitude + 0.002,\n                        image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/bins1.jpg\",\n                        tags: [\"Paper\", \"Plastic\", \"Can\", \"Glass\", \"Landfill\"],\n                        numOfDropOffs: 52,\n                        tonsRecycled: 5,\n                    },\n                    {\n                        name: \"Location 21\",\n                        latitude: res.coords.latitude - 0.0016,\n                        longitude: res.coords.longitude - 0.002,\n                        image: \"/Users/oliviachenxu/Documents/QueensGDSC/App/assets/bins2.jpg\",\n                        tags: [\"Organics\", \"Can\"],\n                        numOfDropOffs: 6,\n                        tonsRecycled: 1,\n                    },\n                    {\n                        name: \"Queen's Center\",\n                        latitude: res.coords.latitude + 0.002,\n                        longitude: res.coords.longitude + 0.001,\n                        image: null,\n                        tags: [\"Paper\", \"Organics\", \"Can\"],\n                        numOfDropOffs: 6,\n                        tonsRecycled: 1,\n                    },\n                ]);\n            });\n        })();\n    }, []);\n\n    useEffect(() => {}, [locations]);\n\n    let text = \"Waiting..\";\n    if (errorMsg) {\n        text = errorMsg;\n    } else if (currentLoc) {\n        text = JSON.stringify(currentLoc);\n    }\n    return (\n        <>\n            <StatusBar barStyle=\"dark-content\"></StatusBar>\n            <Tab.Navigator\n                screenOptions={{\n                    headerShown: false,\n                    tabBarShowLabel: false,\n                    tabBarActiveTintColor: \"#4B9460\",\n                }}\n            >\n                <Tab.Screen\n                    name=\"UserFeed\"\n                    options={{\n                        tabBarIcon: ({ color }) => (\n                            <Ionicons name=\"home\" color={color} size={26} />\n                        ),\n                    }}\n                >\n                    {(props) => (\n                        <UserFeed\n                            {...props}\n                            posts={posts}\n                            setPosts={setPosts}\n                            ownPosts={ownPosts}\n                            setOwnPosts={setOwnPosts}\n                        ></UserFeed>\n                    )}\n                </Tab.Screen>\n                <Tab.Screen\n                    name=\"AllLocations\"\n                    options={{\n                        tabBarIcon: ({ color }) => (\n                            <MaterialIcons\n                                name=\"add-location-alt\"\n                                color={color}\n                                size={28}\n                            />\n                        ),\n                    }}\n                >\n                    {(props) => (\n                        <AllLocations\n                            {...props}\n                            currentLoc={currentLoc}\n                            locations={locations}\n                            setLocations={setLocations}\n                            posts={posts}\n                            setPosts={setPosts}\n                            ownPosts={ownPosts}\n                            setOwnPosts={setOwnPosts}\n                        ></AllLocations>\n                    )}\n                </Tab.Screen>\n                <Tab.Screen\n                    name=\"Scan\"\n                    options={{\n                        tabBarIcon: ({ color }) => (\n                            <View\n                                style={{\n                                    position: \"absolute\",\n                                    bottom: 0, // space from bottombar\n                                    height: 68,\n                                    width: 68,\n                                    borderRadius: 68,\n                                    backgroundColor:\n                                        color === \"#4B9460\"\n                                            ? \"#4B9460\"\n                                            : \"#5DB075\",\n                                    justifyContent: \"center\",\n                                    alignItems: \"center\",\n                                }}\n                            >\n                                <Ionicons\n                                    name=\"camera\"\n                                    color=\"white\"\n                                    size={28}\n                                />\n                            </View>\n                        ),\n                    }}\n                >\n                    {(props) => (\n                        <Scan\n                            {...props}\n                            currentLoc={currentLoc}\n                            locations={locations}\n                            posts={posts}\n                            setPosts={setPosts}\n                            ownPosts={ownPosts}\n                            setOwnPosts={setOwnPosts}\n                        ></Scan>\n                    )}\n                </Tab.Screen>\n                <Tab.Screen\n                    name=\"LeaderBoard\"\n                    component={LeaderBoard}\n                    options={{\n                        tabBarIcon: ({ color }) => (\n                            <MaterialIcons\n                                name=\"leaderboard\"\n                                color={color}\n                                size={26}\n                            />\n                        ),\n                    }}\n                />\n                <Tab.Screen\n                    name=\"Profile\"\n                    options={{\n                        tabBarIcon: ({ color }) => (\n                            <Ionicons\n                                name=\"person-circle-outline\"\n                                color={color}\n                                size={28}\n                            />\n                        ),\n                    }}\n                >\n                    {(props) => (\n                        <Profile {...props} ownPosts={ownPosts}></Profile>\n                    )}\n                </Tab.Screen>\n            </Tab.Navigator>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}